<section class="bazaar-detail" style="margin-top: 30px;">
    <div class="container">
        <div class="row">
            
            <div class="col-3">
                <div class="product-info">
                  <div class="d-flex justify-content-center" *ngIf="isFetching">
                    <div class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                  <div *ngIf="!isFetching">
                    <div class="product-head">
                      <img [src]="imagesPath" alt="{{product.name}}" class="product-image">
                      <h3>{{ product!.name }}</h3>
                    </div>
                    <div class="price-info">
                      <span>Unit Price: <strong>{{ product!.currentPrice }}</strong></span>
                      <span>Expected Price:  <strong>{{ product!.expectedPrice }}</strong></span>
                    </div>
                  </div>
                </div>
            </div>

            <div class="col-9 gx-2 product-order">
                <app-tabs [tabsArray]="tabs" (onTabChange)="tabChange($event)"></app-tabs>
                <div class="col-12 order-table">
                    <div class="row" *ngIf="activatedTabIndex == 0">
                        <table class="table" aria-describedby="buy">
                            <thead style="text-align: center;">
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">Unit Price</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">CreatedAt</th>
                                <th scope="col"></th>
                              </tr>
                            </thead>
                            <tbody style="text-align: center;">
                              <tr *ngFor="let buyAdvert of buyAdverts; let i = index;">
                                <th scope="row">{{ i + 1 }}</th>
                                <td>{{ buyAdvert.unitPrice }}</td>
                                <td>{{ buyAdvert.quantity }}</td>
                                <td>{{ (buyAdvert.unitPrice && buyAdvert.quantity) ? (buyAdvert.unitPrice * buyAdvert.quantity) : 'N/A' }}</td>
                                <td>{{ buyAdvert.createdAt | date:'MM/dd/yyyy' }}</td>
                                <td><button class="btn_primary">Buy</button></td>
                              </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row" *ngIf="activatedTabIndex == 1">
                        <table class="table" aria-describedby="sell">
                            <thead style="text-align: center;">
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">Unit Price</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">CreatedAt</th>
                                <th scope="col"></th>
                              </tr>
                            </thead>
                            <tbody style="text-align: center;">
                              <tr *ngFor="let sellAdvert of sellAdverts; let i = index">
                                <th scope="row">{{ i + 1 }}</th>
                                <td>{{ sellAdvert.unitPrice }}</td>
                                <td>{{ sellAdvert.quantity }}</td>
                                <td>{{ (sellAdvert.unitPrice && sellAdvert.quantity) ? (sellAdvert.unitPrice * sellAdvert.quantity) : 'N/A' }}</td>
                                <td>{{ sellAdvert.createdAt | date:'MM/dd/yyyy' }}</td>
                                <td><button class="btn_primary" style="color: var(--red);">Sell</button></td>
                              </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>